<Window x:Class="EasyCut.Views.SegmentSelectionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="选择学习片段"
        Height="450"
        Width="800"
        WindowStartupLocation="CenterOwner">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- 视频预览 -->
        <Border Grid.Row="0"
                BorderBrush="#FFDDDDDD"
                BorderThickness="1"
                CornerRadius="4">
            <Grid Background="Black">
                <MediaElement x:Name="PART_Media"
                              LoadedBehavior="Manual"
                              UnloadedBehavior="Manual"
                              Stretch="Uniform" />
            </Grid>
        </Border>

        <!-- 时间轴 -->
        <StackPanel Grid.Row="1" Margin="0,12,0,0">
            <Slider x:Name="PART_Timeline"
                    Minimum="0"
                    TickFrequency="1"
                    IsSnapToTickEnabled="False"
                    ValueChanged="PART_Timeline_OnValueChanged" />
            <DockPanel Margin="0,4,0,0">
                <TextBlock x:Name="PART_CurrentTimeText"
                           DockPanel.Dock="Left"
                           Text="当前: 00:00.0"
                           VerticalAlignment="Center" />
                <TextBlock x:Name="PART_DurationText"
                           DockPanel.Dock="Right"
                           Text="总长: 00:00.0"
                           VerticalAlignment="Center" />
            </DockPanel>
        </StackPanel>

        <!-- 片段信息 + 控制按钮 -->
        <StackPanel Grid.Row="2" Margin="0,12,0,0">
            <UniformGrid Columns="2">
                <StackPanel Orientation="Horizontal" Margin="0,0,8,0">
                    <TextBlock Text="开始:" VerticalAlignment="Center" Margin="0,0,4,0" />
                    <TextBlock x:Name="PART_StartText"
                               Width="80"
                               VerticalAlignment="Center"
                               Text="00:00.0" />
                    <Button Content="设为当前时间"
                            Margin="8,0,0,0"
                            Padding="8,2"
                            Click="OnSetStartFromCurrentClick" />
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="8,0,0,0">
                    <TextBlock Text="结束:" VerticalAlignment="Center" Margin="0,0,4,0" />
                    <TextBlock x:Name="PART_EndText"
                               Width="80"
                               VerticalAlignment="Center"
                               Text="00:00.0" />
                    <Button Content="设为当前时间"
                            Margin="8,0,0,0"
                            Padding="8,2"
                            Click="OnSetEndFromCurrentClick" />
                </StackPanel>
            </UniformGrid>

            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Margin="0,12,0,0">
                <Button x:Name="PART_PlayPauseButton"
                        Width="80"
                        Margin="0,0,8,0"
                        Content="播放"
                        Click="OnPlayPauseClick" />
                <Button Width="80"
                        Margin="0,0,8,0"
                        Content="预览片段"
                        Click="OnPreviewSegmentClick" />
                <Button Width="80"
                        Margin="0,0,8,0"
                        Content="确定"
                        IsDefault="True"
                        Click="OnOkClick" />
                <Button Width="80"
                        Content="取消"
                        IsCancel="True" />
            </StackPanel>
        </StackPanel>
    </Grid>
</Window>